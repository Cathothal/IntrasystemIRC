Big thing on my mind is should all of this just be in one file?

Is having everything slpit apart like  this a good idea?

is using the loopback adress for hosting a server and sending messages to the same device elegent? Not really